<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>üì¶ Qu·∫£n l√Ω s·∫£n ph·∫©m - Shop Gi√†y THN</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: #f7f5f2;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      }
      .navbar-custom {
        background-color: #2c3e50;
      }
      .navbar-custom .nav-link,
      .navbar-custom .navbar-brand {
        color: #ecf0f1;
        font-weight: 600;
      }
      .navbar-custom .nav-link:hover {
        color: #f39c12;
      }
      header {
        background: url('https://images.unsplash.com/photo-1576491110919-df70d852860f?q=80&w=1172&auto=format&fit=crop')
          center/cover no-repeat;
        height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
      }
      header h1 {
        font-size: 3rem;
        background: rgba(44, 62, 80, 0.7);
        padding: 15px 30px;
        border-radius: 12px;
      }
      main {
        margin-top: 30px;
        margin-bottom: 60px;
      }
      .table-img {
        width: 60px;
        height: 40px;
        object-fit: contain;
        border-radius: 4px;
      }
      .form-control-sm {
        max-width: 150px;
      }
      .btn-sm {
        min-width: 70px;
      }

      footer {
      margin-top: 60px;
      background: #2c3e50;
      color: #bdc3c7;
      padding: 15px 0;
      text-align: center;
      font-size: 0.9rem;
      } 
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-custom">
      <div class="container">
        <a class="navbar-brand" href="#">üè† Shop Gi√†y THN</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navMain"
        >
          <span class="navbar-toggler-icon"
            ><i class="bi bi-list" style="font-size: 1.5rem; color: #ecf0f1"></i
          ></span>
        </button>
        <div class="collapse navbar-collapse" id="navMain">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="/main">Trang ch·ªß</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="/sanpham">S·∫£n ph·∫©m</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/khachhang">Kh√°ch h√†ng</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/giaodich">Giao d·ªãch</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Banner -->
    <header>
      <h1>Qu·∫£n l√Ω s·∫£n ph·∫©m - Shop Gi√†y THN</h1>
    </header>

    <!-- Main content -->
    <main class="container">
      <!-- Search & Add -->
      <div
        class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2"
      >
        <input
          type="text"
          id="searchInput"
          placeholder="T√¨m theo m√£ ho·∫∑c t√™n gi√†y..."
          class="form-control form-control-sm"
          style="max-width: 300px"
        />
        <button
          class="btn btn-success btn-sm"
          data-bs-toggle="modal"
          data-bs-target="#productModal"
          id="btnAddProduct"
        >
          <i class="bi bi-plus-lg"></i> Th√™m s·∫£n ph·∫©m
        </button>
      </div>

      <!-- Table s·∫£n ph·∫©m -->
      <div class="table-responsive">
        <table class="table table-bordered table-hover align-middle">
          <thead class="table-secondary">
            <tr>
              <th>M√£ gi√†y</th>
              <th>T√™n gi√†y</th>
              <th>Gi√° (‚Ç´)</th>
              <th>Size</th>
              <th>·∫¢nh</th>
              <th>H√†nh ƒë·ªông</th>
            </tr>
          </thead>
          <tbody id="productTableBody">
            <!-- D·ªØ li·ªáu s·∫£n ph·∫©m s·∫Ω load ·ªü ƒë√¢y -->
          </tbody>
        </table>
      </div>
    </main>

    <!-- Modal th√™m/s·ª≠a s·∫£n ph·∫©m -->
    <div
      class="modal fade"
      id="productModal"
      tabindex="-1"
      aria-labelledby="productModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <form id="productForm" class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="productModalLabel">Th√™m s·∫£n ph·∫©m</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="ƒê√≥ng"
            ></button>
          </div>
          <div class="modal-body">
            <input type="hidden" id="originalMaSp" />
            <div class="mb-3">
              <label for="maSpInput" class="form-label">M√£ gi√†y</label>
              <input type="text" class="form-control" id="maSpInput" required />
            </div>
            <div class="mb-3">
              <label for="nameInput" class="form-label">T√™n gi√†y</label>
              <input type="text" class="form-control" id="nameInput" required />
            </div>
            <div class="mb-3">
              <label for="priceInput" class="form-label">Gi√° (‚Ç´)</label>
              <input
                type="number"
                class="form-control"
                id="priceInput"
                min="0"
                step="1000"
                required
              />
            </div>
            <div class="mb-3">
              <label for="sizeInput" class="form-label">Size</label>
              <input
                type="number"
                class="form-control"
                id="sizeInput"
                min="30"
                max="50"
                required
              />
            </div>
            <div class="mb-3">
              <label for="imageURLInput" class="form-label">URL ·∫£nh</label>
              <input
                type="url"
                class="form-control"
                id="imageURLInput"
                placeholder="https://example.com/image.jpg"
              />
            </div>
            <div
              id="formAlert"
              class="alert alert-danger d-none"
              role="alert"
            ></div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary btn-sm"
              data-bs-dismiss="modal"
            >
              H·ªßy
            </button>
            <button type="submit" class="btn btn-primary btn-sm">L∆∞u</button>
          </div>
        </form>
      </div>
    </div>

    <footer class="text-center mt-5 mb-3 text-muted" style="font-size: 0.9rem">
      &copy; 2025 Shop Gi√†y THN - H·ªá th·ªëng qu·∫£n l√Ω b√°n h√†ng
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      const productTableBody = document.getElementById('productTableBody');
      const searchInput = document.getElementById('searchInput');
      const productModal = new bootstrap.Modal(
        document.getElementById('productModal')
      );
      const productForm = document.getElementById('productForm');
      const formAlert = document.getElementById('formAlert');

      const originalMaSpInput = document.getElementById('originalMaSp');
      const maSpInput = document.getElementById('maSpInput');
      const nameInput = document.getElementById('nameInput');
      const priceInput = document.getElementById('priceInput');
      const sizeInput = document.getElementById('sizeInput');
      const imageURLInput = document.getElementById('imageURLInput');

      // L·∫•y d·ªØ li·ªáu t·ª´ localStorage ho·∫∑c d√πng d·ªØ li·ªáu m·∫´u
      let products = JSON.parse(localStorage.getItem('sanPhamData')) || [
        {
          maSp: 'SP001',
          name: 'Gi√†y Sneaker Nam Tr·∫Øng',
          price: 650000,
          size: 42,
          imageURL: 'data:image/jpeg;base64,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',
        },
        {
          maSp: 'SP002',
          name: 'Gi√†y Th·ªÉ Thao N·ªØ H·ªìng',
          price: 720000,
          size: 38,
          imageURL: 'data:image/jpeg;base64,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',
        },
        {
          maSp: 'SP003',
          name: 'Gi√†y ƒê√° Banh Nike',
          price: 1250000,
          size: 43,
          imageURL: 'https://images.unsplash.com/photo-1664754978480-82ac6ab992c1?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8c2hvZXMlMjBuaWtlJTIwc29jY2VyfGVufDB8fDB8fHww',
        },
        {
          maSp: 'SP004',
          name: 'Gi√†y T√¢y Da ƒêen',
          price: 890000,
          size: 41,
          imageURL: 'data:image/jpeg;base64,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',
        },
        {
          maSp: 'SP005',
          name: 'Gi√†y Th·ªÉ Thao Nam',
          price: 850000,
          size: 41,
          imageURL: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=400&q=80',
        },
        {
        maSp: 'SP006',
          name: 'Gi√†y Th·ªÉ Thao N·ªØ',
          price: 850000,
          size: 39,
          imageURL: 'https://images.unsplash.com/photo-1511556532299-8f662fc26c06?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
        },
      ];

      // H√†m l∆∞u d·ªØ li·ªáu v√†o localStorage
      function saveData() {
        localStorage.setItem('sanPhamData', JSON.stringify(products));
      }

      function renderProductTable(list) {
        productTableBody.innerHTML = '';
        if (list.length === 0) {
          productTableBody.innerHTML =
            '<tr><td colspan="6" class="text-center text-muted">Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o.</td></tr>';
          return;
        }
        list.forEach((p) => {
          productTableBody.innerHTML += `
          <tr>
            <td>${p.maSp}</td>
            <td>${p.name}</td>
            <td>${p.price.toLocaleString('vi-VN')} ‚Ç´</td>
            <td>${p.size}</td>
            <td><img src="${
              p.imageURL || 'https://via.placeholder.com/60x40?text=No+Image'
            }" alt="${p.name}" class="table-img"/></td>
            <td>
              <button class="btn btn-sm btn-warning me-1" onclick="openEditModal('${
                p.maSp
              }')">
                <i class="bi bi-pencil-fill"></i> S·ª≠a
              </button>
              <button class="btn btn-sm btn-danger" onclick="deleteProduct('${
                p.maSp
              }')">
                <i class="bi bi-trash-fill"></i> X√≥a
              </button>
            </td>
          </tr>
        `;
        });
      }

      searchInput.addEventListener('input', () => {
        const keyword = searchInput.value.trim().toLowerCase();
        const filtered = products.filter(
          (p) =>
            p.maSp.toLowerCase().includes(keyword) ||
            p.name.toLowerCase().includes(keyword)
        );
        renderProductTable(filtered);
      });

      document.getElementById('btnAddProduct').addEventListener('click', () => {
        productForm.reset();
        formAlert.classList.add('d-none');
        document.querySelector('#productModal .modal-title').textContent =
          'Th√™m s·∫£n ph·∫©m';
        originalMaSpInput.value = '';
        maSpInput.disabled = false;
      });

      window.openEditModal = function (maSp) {
        formAlert.classList.add('d-none');
        const sp = products.find((p) => p.maSp === maSp);
        if (!sp) return alert('Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m!');
        document.querySelector('#productModal .modal-title').textContent =
          'S·ª≠a s·∫£n ph·∫©m';
        originalMaSpInput.value = sp.maSp;
        maSpInput.value = sp.maSp;
        nameInput.value = sp.name;
        priceInput.value = sp.price;
        sizeInput.value = sp.size;
        imageURLInput.value = sp.imageURL || '';
        maSpInput.disabled = true;
        productModal.show();
      };

      window.deleteProduct = function (maSp) {
        if (!confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a s·∫£n ph·∫©m m√£ ${maSp} kh√¥ng?`)) return;
        products = products.filter((p) => p.maSp !== maSp);
        saveData(); // L∆∞u v√†o localStorage
        renderProductTable(products);
      };

      productForm.addEventListener('submit', (e) => {
        e.preventDefault();
        formAlert.classList.add('d-none');
        const originalMaSp = originalMaSpInput.value.trim();
        const maSp = maSpInput.value.trim();
        const name = nameInput.value.trim();
        const price = Number(priceInput.value);
        const size = Number(sizeInput.value);
        const imageURL = imageURLInput.value.trim();
        if (!maSp || !name || price <= 0 || size < 30 || size > 50) {
          formAlert.textContent = 'Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin h·ª£p l·ªá.';
          formAlert.classList.remove('d-none');
          return;
        }
        const payload = { maSp, name, price, size, imageURL };
        if (originalMaSp) {
          const index = products.findIndex((p) => p.maSp === originalMaSp);
          if (index !== -1) products[index] = payload;
          alert('C·∫≠p nh·∫≠t s·∫£n ph·∫©m th√†nh c√¥ng');
        } else {
          products.push(payload);
          alert('Th√™m s·∫£n ph·∫©m th√†nh c√¥ng');
        }
        saveData(); // L∆∞u v√†o localStorage
        productModal.hide();
        renderProductTable(products);
      });

      renderProductTable(products);
    </script>
  </body>
</html>
