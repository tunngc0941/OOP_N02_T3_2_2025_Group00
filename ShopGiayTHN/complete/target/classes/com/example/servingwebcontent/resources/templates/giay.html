<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Giày THN - Quản lý</title>
    <style>
        /* Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #f0f2f5;
            color: #333;
        }

        .app-container {
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Navbar */
        .navbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: linear-gradient(180deg, #3498db, #5dade2);
            color: white;
            padding: 10px 30px;
            height: 60px;
        }

        .navbar h2 {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .navbar .menu {
            list-style: none;
            display: flex;
            gap: 20px;
        }

        .navbar .menu li {
            cursor: pointer;
            padding: 8px 15px;
            border-radius: 6px;
            transition: background 0.3s;
            font-weight: 500;
        }

        .navbar .menu li:hover,
        .navbar .menu li.active {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Slide ảnh trang chủ */
        .slider {
            width: 100%;
            height: 500px;
            margin: 20px auto;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .slides {
            display: flex;
            width: 100%;
            animation: slideAnimation 12s infinite;
        }

        .slides img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        @keyframes slideAnimation {
            0% { transform: translateX(0%); }
            33.333% { transform: translateX(0%); }
            44.444% { transform: translateX(-100%); }
            77.777% { transform: translateX(-100%); }
            88.888% { transform: translateX(-200%); }
            100% { transform: translateX(-200%); }
        }

        /* Main content */
        .main-content {
            flex-grow: 1;
            background: white;
            padding: 20px 30px;
            overflow-y: auto;
        }

        .header {
            height: 60px;
            border-bottom: 1px solid #ddd;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            padding-right: 20px;
            font-weight: 600;
            color: #555;
            margin-bottom: 20px;
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        th, td {
            padding: 10px 12px;
            border-bottom: 1px solid #ddd;
            text-align: center;
        }

        th {
            background: linear-gradient(90deg, #3498db, #5dade2);
            color: white;
            text-transform: uppercase;
            border-radius: 8px 8px 0 0;
        }

        tr:hover {
            background: #f9f9f9;
        }

        /* Buttons */
        .btn {
            background: #3498db;
            border: none;
            color: white;
            padding: 7px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s;
            margin-left: 5px;
        }

        .btn:hover {
            background: #2980b9;
        }

        .btn-delete {
            background: #e74c3c;
        }

        .btn-delete:hover {
            background: #c0392b;
        }

        .btn-add {
            background: #2ecc71;
            float: right;
            margin-bottom: 10px;
        }

        .btn-add:hover {
            background: #27ae60;
        }

        /* Form inputs */
        input[type=text], input[type=number], select {
            padding: 7px 10px;
            margin: 5px 10px 5px 0;
            border-radius: 6px;
            border: 1px solid #ccc;
            width: 200px;
            font-size: 1rem;
        }

        label {
            font-weight: 600;
            margin-right: 5px;
        }

        /* Sections ẩn hiện */
        section {
            display: none;
        }

        section.active {
            display: block;
        }

        /* Image product */
        img.product-img {
            width: 80px;
            height: 60px;
            object-fit: cover;
            border-radius: 6px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }

        /* Cart quantity input */
        input.qty-input {
            width: 50px;
            text-align: center;
            border-radius: 6px;
            border: 1px solid #ccc;
        }

        /* Total money */
        .total-amount {
            font-size: 1.3rem;
            font-weight: 700;
            margin-top: 15px;
            text-align: right;
        }

        /* Print button */
        .btn-print {
            background: #9b59b6;
            margin-top: 10px;
        }

        .btn-print:hover {
            background: #8e44ad;
        }
        
        /* Size selector */
        .size-selector {
            display: flex;
            gap: 5px;
            margin: 5px 0;
            justify-content: center;
        }
        
        .size-option {
            width: 30px;
            height: 30px;
            border: 1px solid #ccc;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .size-option.selected {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }
    </style>
</head>

<body>
    <div class="app-container">
        <div class="navbar">
            <h2>Giày THN</h2>
            <ul class="menu">
                <li class="active" data-section="home">Trang Chủ</li>
                <li data-section="products">Sản Phẩm</li>
                <li data-section="customers">Khách Hàng</li>
                <li data-section="cart">Giỏ Hàng</li>
                <li data-section="transactions">Giao Dịch</li>
                <li data-section="history">Lịch Sử</li>
            </ul>
        </div>

        <div class="main-content">
            <div class="header">
                Admin
            </div>

            <!-- Trang chủ -->
            <section id="home" class="active">
                <h1>Chào mừng bạn đến với Giày THN</h1>
                <p>Chuyên cung cấp các sản phẩm giày thể thao, giày công sở chất lượng cao.</p>

                <div class="slider">
                    <div class="slides">
                        <img src="https://theme.hstatic.net/1000376021/1000611391/14/slide_1.jpg?v=1044" alt="Slide 1">
                        <img src="https://theme.hstatic.net/1000376021/1000611391/14/slide_2.jpg?v=1044" alt="Slide 2">
                        <img src="https://theme.hstatic.net/1000376021/1000611391/14/slide_3.jpg?v=1044" alt="Slide 3">
                    </div>
                </div>
            </section>

            <!-- Sản phẩm -->
            <section id="products">
                <h1>Danh Sách Sản Phẩm</h1>
                <button class="btn btn-add" onclick="showAddProductForm()">Thêm Sản Phẩm</button>

                <table>
                    <thead>
                        <tr>
                            <th>Mã SP</th>
                            <th>Hình Ảnh</th>
                            <th>Tên Sản Phẩm</th>
                            <th>Giá (VND)</th>
                            <th>Size</th>
                            <th>Hành Động</th>
                        </tr>
                    </thead>
                    <tbody id="productList"></tbody>
                </table>

                <!-- Form thêm sửa sản phẩm -->
                <div id="productFormContainer" style="margin-top:20px; display:none;">
                    <h3 id="productFormTitle">Thêm Sản Phẩm</h3>
                    <input type="text" id="productId" placeholder="Mã SP" />
                    <input type="text" id="productName" placeholder="Tên Sản Phẩm" />
                    <input type="number" id="productPrice" placeholder="Giá (VND)" />
                    <input type="text" id="productImage" placeholder="URL Hình Ảnh" />
                    <div style="margin: 10px 0;">
                        <label>Size có sẵn:</label>
                        <div id="sizeSelector" class="size-selector">
                            <div class="size-option" data-size="36">36</div>
                            <div class="size-option" data-size="37">37</div>
                            <div class="size-option" data-size="38">38</div>
                            <div class="size-option" data-size="39">39</div>
                            <div class="size-option" data-size="40">40</div>
                            <div class="size-option" data-size="41">41</div>
                            <div class="size-option" data-size="42">42</div>
                            <div class="size-option" data-size="43">43</div>
                        </div>
                        <input type="text" id="productSizes" placeholder="Các size cách nhau bằng dấu phẩy" style="width: 300px; margin-top: 5px;"/>
                    </div>
                    <button class="btn" onclick="saveProduct()">Lưu</button>
                    <button class="btn btn-delete" onclick="cancelProductForm()">Hủy</button>
                </div>
            </section>

            <!-- Khách hàng -->
            <section id="customers">
                <h1>Danh Sách Khách Hàng</h1>
                <form id="customerForm" onsubmit="event.preventDefault(); addCustomer();">
                    <input type="text" id="customerName" placeholder="Tên Khách Hàng" required />
                    <input type="text" id="customerPhone" placeholder="Số Điện Thoại" required />
                    <button type="submit" class="btn btn-add">Thêm Khách Hàng</button>
                </form>

                <table>
                    <thead>
                        <tr>
                            <th>Mã KH</th>
                            <th>Tên</th>
                            <th>Số Điện Thoại</th>
                            <th>Hành Động</th>
                        </tr>
                    </thead>
                    <tbody id="customerList"></tbody>
                </table>
            </section>

            <!-- Giỏ hàng -->
            <section id="cart">
                <h1>Giỏ Hàng</h1>
                <table>
                    <thead>
                        <tr>
                            <th>Mã SP</th>
                            <th>Tên</th>
                            <th>Giá (VND)</th>
                            <th>Size</th>
                            <th>Số Lượng</th>
                            <th>Hành Động</th>
                        </tr>
                    </thead>
                    <tbody id="cartItems"></tbody>
                </table>
                <div class="total-amount">Tổng Tiền: <span id="totalAmount">0</span> VND</div>
            </section>

            <!-- Giao dịch -->
            <section id="transactions">
                <h1>Giao Dịch</h1>
                <label for="transactionCustomer">Chọn Khách Hàng:</label>
                <select id="transactionCustomer">
                    <option value="">--Chọn--</option>
                </select>
                <div class="total-amount" style="margin-top: 10px;">
                    Tổng Số Tiền Giao Dịch: <span id="transactionTotal">0</span> VND
                </div>
                <button class="btn" onclick="completeTransaction()" style="margin-top:10px;">Hoàn Tất Giao Dịch</button>
                <button class="btn btn-print" onclick="printInvoice()" style="margin-top:10px;">In Hóa Đơn</button>
            </section>

            <!-- Lịch sử giao dịch -->
            <section id="history">
                <h1>Lịch Sử Giao Dịch</h1>
                <table>
                    <thead>
                        <tr>
                            <th>Khách Hàng</th>
                            <th>Danh Sách Sản Phẩm</th>
                            <th>Tổng Tiền (VND)</th>
                        </tr>
                    </thead>
                    <tbody id="transactionHistory"></tbody>
                </table>
            </section>
        </div>
    </div>

    <script>
        // Data mẫu
        let products = [
            { id: "G001", name: "Giày thể thao nam", price: 1200000, image: "https://product.hstatic.net/1000376021/product/1_1e3a9f7c3f5b4b8e8e3f3c3f3f3f3f3f.jpg", sizes: "38,39,40,41,42" },
            { id: "G002", name: "Giày công sở nữ", price: 850000, image: "https://product.hstatic.net/1000376021/product/2_1e3a9f7c3f5b4b8e8e3f3c3f3f3f3f3f.jpg", sizes: "36,37,38,39" },
            { id: "G003", name: "Giày chạy bộ", price: 1500000, image: "https://product.hstatic.net/1000376021/product/3_1e3a9f7c3f5b4b8e8e3f3c3f3f3f3f3f.jpg", sizes: "39,40,41,42,43" },
            { id: "G004", name: "Giày sandal nữ", price: 650000, image: "https://product.hstatic.net/1000376021/product/4_1e3a9f7c3f5b4b8e8e3f3c3f3f3f3f3f.jpg", sizes: "36,37,38" }
        ];

        let customers = [];
        let cart = [];
        let transactions = [];

        // Hiển thị danh sách sản phẩm
        function renderProducts() {
            const tbody = document.getElementById("productList");
            tbody.innerHTML = "";
            for (const p of products) {
                const tr = document.createElement("tr");
                tr.innerHTML = `
                    <td>${p.id}</td>
                    <td><img src="${p.image}" alt="${p.name}" class="product-img"/></td>
                    <td>${p.name}</td>
                    <td>${p.price.toLocaleString()}</td>
                    <td>${p.sizes}</td>
                    <td>
                        <button class="btn" onclick="editProduct('${p.id}')">Sửa</button>
                        <button class="btn btn-delete" onclick="deleteProduct('${p.id}')">Xóa</button>
                        <button class="btn" onclick="showAddToCartModal('${p.id}')">Thêm vào Giỏ</button>
                    </td>
                `;
                tbody.appendChild(tr);
            }
        }

        // Modal thêm vào giỏ hàng
        let currentProductForCart = null;
        function showAddToCartModal(productId) {
            currentProductForCart = productId;
            const p = products.find(x => x.id === productId);
            if (!p) return;
            
            let modalHtml = `
                <div id="addToCartModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 1000;">
                    <div style="background: white; padding: 20px; border-radius: 10px; width: 400px;">
                        <h3>Thêm vào giỏ hàng: ${p.name}</h3>
                        <div style="margin: 15px 0;">
                            <label>Chọn size:</label>
                            <select id="selectedSize" style="width: 100%; padding: 8px; margin-top: 5px;">
                                ${p.sizes.split(',').map(size => `<option value="${size.trim()}">Size ${size.trim()}</option>`).join('')}
                            </select>
                        </div>
                        <div style="margin: 15px 0;">
                            <label>Số lượng:</label>
                            <input type="number" id="cartQty" value="1" min="1" style="width: 100%; padding: 8px; margin-top: 5px;">
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 20px;">
                            <button class="btn" onclick="addToCartWithSize()">Thêm vào giỏ</button>
                            <button class="btn btn-delete" onclick="closeAddToCartModal()">Hủy</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHtml);
        }
        
        function closeAddToCartModal() {
            document.getElementById('addToCartModal').remove();
            currentProductForCart = null;
        }
        
        function addToCartWithSize() {
            const size = document.getElementById('selectedSize').value;
            const qty = parseInt(document.getElementById('cartQty').value) || 1;
            
            if (currentProductForCart) {
                const item = cart.find(i => i.productId === currentProductForCart && i.size === size);
                if (item) {
                    item.qty += qty;
                } else {
                    cart.push({ productId: currentProductForCart, size, qty });
                }
                renderCart();
                updateTransactionTotal();
                alert("Đã thêm sản phẩm vào giỏ hàng");
                closeAddToCartModal();
            }
        }

        // Thêm/sửa sản phẩm
        let editingProductId = null;
        function showAddProductForm() {
            editingProductId = null;
            document.getElementById("productFormTitle").innerText = "Thêm Sản Phẩm";
            document.getElementById("productId").value = "";
            document.getElementById("productId").disabled = false;
            document.getElementById("productName").value = "";
            document.getElementById("productPrice").value = "";
            document.getElementById("productImage").value = "";
            document.getElementById("productSizes").value = "";
            document.getElementById("productFormContainer").style.display = "block";
            
            // Reset size selector
            document.querySelectorAll('#sizeSelector .size-option').forEach(el => {
                el.classList.remove('selected');
            });
        }

        function editProduct(id) {
            const p = products.find(x => x.id === id);
            if (!p) return alert("Sản phẩm không tồn tại");
            editingProductId = id;
            document.getElementById("productFormTitle").innerText = "Sửa Sản Phẩm";
            document.getElementById("productId").value = p.id;
            document.getElementById("productId").disabled = true;
            document.getElementById("productName").value = p.name;
            document.getElementById("productPrice").value = p.price;
            document.getElementById("productImage").value = p.image;
            document.getElementById("productSizes").value = p.sizes;
            document.getElementById("productFormContainer").style.display = "block";
            
            // Select sizes
            document.querySelectorAll('#sizeSelector .size-option').forEach(el => {
                el.classList.remove('selected');
                if (p.sizes.split(',').map(s => s.trim()).includes(el.dataset.size)) {
                    el.classList.add('selected');
                }
            });
        }

        // Xử lý chọn size
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('#sizeSelector .size-option').forEach(el => {
                el.addEventListener('click', function() {
                    this.classList.toggle('selected');
                    updateSizesInput();
                });
            });
        });
        
        function updateSizesInput() {
            const selectedSizes = Array.from(document.querySelectorAll('#sizeSelector .size-option.selected'))
                .map(el => el.dataset.size)
                .join(', ');
            document.getElementById('productSizes').value = selectedSizes;
        }

        function saveProduct() {
            const id = document.getElementById("productId").value.trim();
            const name = document.getElementById("productName").value.trim();
            const price = parseInt(document.getElementById("productPrice").value);
            const image = document.getElementById("productImage").value.trim() || "https://via.placeholder.com/80";
            const sizes = document.getElementById("productSizes").value.trim();

            if (!id || !name || isNaN(price) || price <= 0 || !sizes) {
                alert("Vui lòng nhập đầy đủ thông tin hợp lệ");
                return;
            }

            if (editingProductId) {
                // update
                const p = products.find(x => x.id === editingProductId);
                p.name = name;
                p.price = price;
                p.image = image;
                p.sizes = sizes;
            } else {
                if (products.find(x => x.id === id)) {
                    alert("Mã sản phẩm đã tồn tại");
                    return;
                }
                products.push({ id, name, price, image, sizes });
            }

            document.getElementById("productFormContainer").style.display = "none";
            renderProducts();
        }

        function cancelProductForm() {
            document.getElementById("productFormContainer").style.display = "none";
        }

        function deleteProduct(id) {
            if (confirm("Bạn có chắc muốn xóa sản phẩm này?")) {
                products = products.filter(p => p.id !== id);
                renderProducts();
                // Nếu trong giỏ hàng có thì cũng xóa
                cart = cart.filter(item => item.productId !== id);
                renderCart();
                updateTransactionTotal();
            }
        }

        // Thêm khách hàng
        let customerIdCounter = 1;
        function renderCustomers() {
            const tbody = document.getElementById("customerList");
            tbody.innerHTML = "";
            customers.forEach((c, i) => {
                const tr = document.createElement("tr");
                tr.innerHTML = `
                    <td>KH${1000 + i}</td>
                    <td>${c.name}</td>
                    <td>${c.phone}</td>
                    <td><button class="btn btn-delete" onclick="deleteCustomer(${i})">Xóa</button></td>
                `;
                tbody.appendChild(tr);
            });

            // Cập nhật select khách hàng giao dịch
            const sel = document.getElementById("transactionCustomer");
            sel.innerHTML = `<option value="">--Chọn--</option>`;
            customers.forEach((c, i) => {
                sel.innerHTML += `<option value="${i}">${c.name} - ${c.phone}</option>`;
            });
        }

        function addCustomer() {
            const name = document.getElementById("customerName").value.trim();
            const phone = document.getElementById("customerPhone").value.trim();
            if (!name || !phone) {
                alert("Vui lòng nhập tên và số điện thoại");
                return;
            }
            customers.push({ name, phone });
            document.getElementById("customerName").value = "";
            document.getElementById("customerPhone").value = "";
            renderCustomers();
        }

        function deleteCustomer(index) {
            if (confirm("Bạn có chắc muốn xóa khách hàng này?")) {
                customers.splice(index, 1);
                renderCustomers();
            }
        }

        // Giỏ hàng
        function renderCart() {
            const tbody = document.getElementById("cartItems");
            tbody.innerHTML = "";
            for (const item of cart) {
                const p = products.find(x => x.id === item.productId);
                if (!p) continue;
                const tr = document.createElement("tr");
                tr.innerHTML = `
                    <td>${p.id}</td>
                    <td>${p.name}</td>
                    <td>${p.price.toLocaleString()}</td>
                    <td>${item.size}</td>
                    <td><input type="number" min="1" value="${item.qty}" class="qty-input" onchange="updateQty('${item.productId}', '${item.size}', this.value)" /></td>
                    <td><button class="btn btn-delete" onclick="removeFromCart('${item.productId}', '${item.size}')">Xóa</button></td>
                `;
                tbody.appendChild(tr);
            }
            updateTransactionTotal();
        }

        function updateQty(productId, size, qty) {
            qty = parseInt(qty);
            if (isNaN(qty) || qty < 1) qty = 1;
            const item = cart.find(i => i.productId === productId && i.size === size);
            if (item) {
                item.qty = qty;
                renderCart();
                updateTransactionTotal();
            }
        }

        function removeFromCart(productId, size) {
            cart = cart.filter(i => i.productId !== productId || i.size !== size);
            renderCart();
            updateTransactionTotal();
        }

        // Tính tổng tiền giỏ hàng
        function getCartTotal() {
            let total = 0;
            for (const item of cart) {
                const p = products.find(x => x.id === item.productId);
                if (p) total += p.price * item.qty;
            }
            return total;
        }

        function updateTransactionTotal() {
            const totalSpan = document.getElementById("totalAmount");
            const transTotalSpan = document.getElementById("transactionTotal");
            const total = getCartTotal();
            totalSpan.textContent = total.toLocaleString();
            transTotalSpan.textContent = total.toLocaleString();
        }

        // Giao dịch
        function completeTransaction() {
            const customerIndex = document.getElementById("transactionCustomer").value;
            if (customerIndex === "") {
                alert("Vui lòng chọn khách hàng");
                return;
            }
            if (cart.length === 0) {
                alert("Giỏ hàng đang trống");
                return;
            }
            const customer = customers[customerIndex];
            const total = getCartTotal();

            // Lưu giao dịch
            const transaction = {
                customer,
                items: cart.map(i => {
                    const p = products.find(x => x.id === i.productId);
                    return { product: p, size: i.size, qty: i.qty };
                }),
                total
            };
            transactions.push(transaction);

            // Xóa giỏ hàng
            cart = [];
            renderCart();
            updateTransactionTotal();
            renderTransactionHistory();
            alert("Giao dịch hoàn tất!");
        }

        // Lịch sử giao dịch
        function renderTransactionHistory() {
            const tbody = document.getElementById("transactionHistory");
            tbody.innerHTML = "";
            transactions.forEach(t => {
                const tr = document.createElement("tr");
                const productList = t.items.map(i => `${i.product.name} (Size ${i.size}) x${i.qty}`).join(", ");
                tr.innerHTML = `
                    <td>${t.customer.name}</td>
                    <td>${productList}</td>
                    <td>${t.total.toLocaleString()}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        // In hóa đơn (mở popup in)
        function printInvoice() {
            if (transactions.length === 0) {
                alert("Chưa có giao dịch nào để in");
                return;
            }
            const lastTrans = transactions[transactions.length - 1];

            let html = `
                <html>
                <head>
                    <title>Hóa Đơn Giày THN</title>
                    <style>
                        body { font-family: Arial, sans-serif; padding: 20px; }
                        h1 { color: #3498db; }
                        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                        th, td { border: 1px solid #ddd; padding: 10px; text-align: center; }
                        th { background: #3498db; color: #fff; }
                        .total { font-weight: 700; margin-top: 20px; text-align: right; }
                    </style>
                </head>
                <body>
                    <h1>HÓA ĐƠN GIÀY THN</h1>
                    <p><strong>Khách hàng:</strong> ${lastTrans.customer.name}</p>
                    <p><strong>Số điện thoại:</strong> ${lastTrans.customer.phone}</p>
                    <table>
                        <thead>
                            <tr>
                                <th>Tên sản phẩm</th>
                                <th>Size</th>
                                <th>Số lượng</th>
                                <th>Đơn giá (VND)</th>
                                <th>Thành tiền (VND)</th>
                            </tr>
                        </thead>
                        <tbody>
            `;

            lastTrans.items.forEach(item => {
                html += `
                    <tr>
                        <td>${item.product.name}</td>
                        <td>${item.size}</td>
                        <td>${item.qty}</td>
                        <td>${item.product.price.toLocaleString()}</td>
                        <td>${(item.product.price * item.qty).toLocaleString()}</td>
                    </tr>
                `;
            });

            html += `
                        </tbody>
                    </table>
                    <div class="total">Tổng cộng: ${lastTrans.total.toLocaleString()} VND</div>
                    <p>Cảm ơn quý khách đã mua hàng!</p>
                </body>
                </html>
            `;

            const w = window.open("", "_blank");
            w.document.write(html);
            w.document.close();
            w.focus();
            w.print();
        }

        // Chuyển tab
        const menuItems = document.querySelectorAll(".menu li");
        menuItems.forEach(item => {
            item.addEventListener("click", () => {
                menuItems.forEach(i => i.classList.remove("active"));
                item.classList.add("active");

                const sectionId = item.getAttribute("data-section");
                document.querySelectorAll("section").forEach(sec => {
                    sec.classList.remove("active");
                });
                const showSection = document.getElementById(sectionId);
                if (showSection) {
                    showSection.classList.add("active");
                }

                if(sectionId === "products") renderProducts();
                if(sectionId === "customers") renderCustomers();
                if(sectionId === "cart") renderCart();
                if(sectionId === "history") renderTransactionHistory();
                updateTransactionTotal();
            });
        });

        // Khởi tạo mặc định
        renderProducts();
        renderCustomers();
        renderCart();
        renderTransactionHistory();
        updateTransactionTotal();
    </script>
</body>

</html>